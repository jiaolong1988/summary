{"ID":"20250515114548-s1x9cch","Spec":"1","Type":"NodeDocument","Properties":{"id":"20250515114548-s1x9cch","title":"Comparator","type":"doc","updated":"20250515115232"},"Children":[{"ID":"20250515114710-wmjlb9p","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20250515114710-wmjlb9p","updated":"20250515114734"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"二、逐个解析：区别与适用场景"}]},{"ID":"20250515114710-glblao7","Type":"NodeHeading","HeadingLevel":4,"Properties":{"id":"20250515114710-glblao7","updated":"20250515114734"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"1."},{"Type":"NodeText","Data":" "},{"Type":"NodeTextMark","TextMarkType":"strong code","TextMarkTextContent":"Comparator.comparing(Function)"},{"Type":"NodeText","Data":"​"}]},{"ID":"20250515114710-10kvehz","Type":"NodeParagraph","Properties":{"id":"20250515114710-10kvehz","updated":"20250515114710"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"功能"},{"Type":"NodeText","Data":"：基于对象的"},{"Type":"NodeBackslash","Data":"span","Children":[{"Type":"NodeText","Data":"*"}]},{"Type":"NodeBackslash","Data":"span","Children":[{"Type":"NodeText","Data":"*"}]},{"Type":"NodeText","Data":"某个属性（对象类型）"},{"Type":"NodeBackslash","Data":"span","Children":[{"Type":"NodeText","Data":"*"}]},{"Type":"NodeBackslash","Data":"span","Children":[{"Type":"NodeText","Data":"*"}]},{"Type":"NodeText","Data":"生成比较器，适用于通用对象类型的排序键（如 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"String"},{"Type":"NodeText","Data":"​、"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"LocalDate"},{"Type":"NodeText","Data":"​ 等）。\n"},{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"核心逻辑"},{"Type":"NodeText","Data":"："}]},{"ID":"20250515114710-7rt07c2","Type":"NodeList","ListData":{},"Properties":{"id":"20250515114710-7rt07c2","updated":"20250515114710"},"Children":[{"ID":"20250515114710-qkos0uv","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20250515114710-qkos0uv","updated":"20250515114710"},"Children":[{"ID":"20250515114710-u1x8gjd","Type":"NodeParagraph","Properties":{"id":"20250515114710-u1x8gjd","updated":"20250515114710"},"Children":[{"Type":"NodeText","Data":"接受一个 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"Function\u0026lt;T, U\u0026gt;"},{"Type":"NodeText","Data":"​（将类型 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"T"},{"Type":"NodeText","Data":"​ 的对象映射为类型 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"U"},{"Type":"NodeText","Data":"​ 的排序键）；"}]}]},{"ID":"20250515114710-zst2604","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20250515114710-zst2604","updated":"20250515114710"},"Children":[{"ID":"20250515114710-9vxzv5j","Type":"NodeParagraph","Properties":{"id":"20250515114710-9vxzv5j","updated":"20250515114710"},"Children":[{"Type":"NodeText","Data":"内部通过 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"U"},{"Type":"NodeText","Data":"​ 类型的自然排序（即 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"U"},{"Type":"NodeText","Data":"​ 需实现 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"Comparable"},{"Type":"NodeText","Data":"​）进行比较。"}]}]}]},{"ID":"20250515114710-i2u1na7","Type":"NodeParagraph","Properties":{"id":"20250515114710-i2u1na7","updated":"20250515114710"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"示例"},{"Type":"NodeText","Data":"：按 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"Person"},{"Type":"NodeText","Data":"​ 的 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"name"},{"Type":"NodeText","Data":"​（"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"String"},{"Type":"NodeText","Data":"​ 类型）排序："}]},{"ID":"20250515114710-inm2r01","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20250515114710-inm2r01","updated":"20250515114710"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"amF2YQ=="},{"Type":"NodeCodeBlockCode","Data":"Comparator\u003cPerson\u003e byName = Comparator.comparing(Person::getName);\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20250515114710-b0udcv0","Type":"NodeParagraph","Properties":{"id":"20250515114710-b0udcv0","updated":"20250515114732"}},{"ID":"20250515114710-8usbqf2","Type":"NodeHeading","HeadingLevel":4,"Properties":{"id":"20250515114710-8usbqf2","updated":"20250515114857"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"2."},{"Type":"NodeText","Data":" "},{"Type":"NodeTextMark","TextMarkType":"strong code","TextMarkTextContent":"Comparator.comparingInt(ToIntFunction)"},{"Type":"NodeText","Data":"​"}]},{"ID":"20250515114710-v62jzr6","Type":"NodeParagraph","Properties":{"id":"20250515114710-v62jzr6","updated":"20250515114710"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"功能"},{"Type":"NodeText","Data":"：基于对象的"},{"Type":"NodeBackslash","Data":"span","Children":[{"Type":"NodeText","Data":"*"}]},{"Type":"NodeBackslash","Data":"span","Children":[{"Type":"NodeText","Data":"*"}]},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"int"},{"Type":"NodeText","Data":"​ 类型属性"},{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"生成比较器，是"},{"Type":"NodeText","Data":" "},{"Type":"NodeTextMark","TextMarkType":"strong code","TextMarkTextContent":"comparing"},{"Type":"NodeText","Data":"​ "},{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"的"},{"Type":"NodeText","Data":"基本类型优化版本"},{"Type":"NodeBackslash","Data":"span","Children":[{"Type":"NodeText","Data":"*"}]},{"Type":"NodeBackslash","Data":"span","Children":[{"Type":"NodeText","Data":"*"}]},{"Type":"NodeText","Data":"（类似的还有 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"comparingLong"},{"Type":"NodeText","Data":"​、"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"comparingDouble"},{"Type":"NodeText","Data":"​）。\n"},{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"核心逻辑"},{"Type":"NodeText","Data":"："}]},{"ID":"20250515114710-iupdmzt","Type":"NodeList","ListData":{},"Properties":{"id":"20250515114710-iupdmzt","updated":"20250515114710"},"Children":[{"ID":"20250515114710-ah4sqet","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20250515114710-ah4sqet","updated":"20250515114710"},"Children":[{"ID":"20250515114710-82tgcbu","Type":"NodeParagraph","Properties":{"id":"20250515114710-82tgcbu","updated":"20250515114710"},"Children":[{"Type":"NodeText","Data":"接受一个 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"ToIntFunction\u0026lt;T\u0026gt;"},{"Type":"NodeText","Data":"​（将类型 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"T"},{"Type":"NodeText","Data":"​ 的对象映射为 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"int"},{"Type":"NodeText","Data":"​ 类型的排序键）；"}]}]},{"ID":"20250515114710-aypmlaw","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20250515114710-aypmlaw","updated":"20250515114710"},"Children":[{"ID":"20250515114710-ouf536j","Type":"NodeParagraph","Properties":{"id":"20250515114710-ouf536j","updated":"20250515114710"},"Children":[{"Type":"NodeText","Data":"直接比较 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"int"},{"Type":"NodeText","Data":"​ 原始值（避免了 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"Integer"},{"Type":"NodeText","Data":"​ 装箱/拆箱的性能损耗）。"}]}]}]},{"ID":"20250515114710-sdu6aro","Type":"NodeParagraph","Properties":{"id":"20250515114710-sdu6aro","updated":"20250515114710"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"示例"},{"Type":"NodeText","Data":"：按 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"Person"},{"Type":"NodeText","Data":"​ 的 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"age"},{"Type":"NodeText","Data":"​（"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"int"},{"Type":"NodeText","Data":"​ 类型）排序："}]},{"ID":"20250515114710-flyxfnm","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20250515114710-flyxfnm","updated":"20250515114710"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"amF2YQ=="},{"Type":"NodeCodeBlockCode","Data":"Comparator\u003cPerson\u003e byAge = Comparator.comparingInt(Person::getAge);\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20250515114857-lb7eoin","Type":"NodeParagraph","Properties":{"id":"20250515114857-lb7eoin","updated":"20250515114857"}},{"ID":"20250515114710-u066pg6","Type":"NodeHeading","HeadingLevel":4,"Properties":{"id":"20250515114710-u066pg6","updated":"20250515114752"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"3."},{"Type":"NodeText","Data":" "},{"Type":"NodeTextMark","TextMarkType":"strong code","TextMarkTextContent":"Comparator.thenComparing(Comparator)"},{"Type":"NodeText","Data":"​"}]},{"ID":"20250515114710-qp7ynrl","Type":"NodeParagraph","Properties":{"id":"20250515114710-qp7ynrl","updated":"20250515114710"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"功能"},{"Type":"NodeText","Data":"："},{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"组合多个比较器"},{"Type":"NodeText","Data":"，用于多条件排序。当主比较器（前一个比较器）的比较结果为 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"0"},{"Type":"NodeText","Data":"​（即两个对象在主条件上相等）时，触发次比较器进行进一步比较。\n"},{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"核心逻辑"},{"Type":"NodeText","Data":"："}]},{"ID":"20250515114710-flk1gwq","Type":"NodeList","ListData":{},"Properties":{"id":"20250515114710-flk1gwq","updated":"20250515114710"},"Children":[{"ID":"20250515114710-kwpi8jo","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20250515114710-kwpi8jo","updated":"20250515114710"},"Children":[{"ID":"20250515114710-mlaofk8","Type":"NodeParagraph","Properties":{"id":"20250515114710-mlaofk8","updated":"20250515114710"},"Children":[{"Type":"NodeText","Data":"接受一个 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"Comparator\u0026lt;T\u0026gt;"},{"Type":"NodeText","Data":"​（次比较器）；"}]}]},{"ID":"20250515114710-28dvklx","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20250515114710-28dvklx","updated":"20250515114710"},"Children":[{"ID":"20250515114710-v31z3fv","Type":"NodeParagraph","Properties":{"id":"20250515114710-v31z3fv","updated":"20250515114710"},"Children":[{"Type":"NodeText","Data":"主比较器结果非 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"0"},{"Type":"NodeText","Data":"​ 时，直接返回主结果；结果为 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"0"},{"Type":"NodeText","Data":"​ 时，使用次比较器。"}]}]}]},{"ID":"20250515114710-1aiud00","Type":"NodeParagraph","Properties":{"id":"20250515114710-1aiud00","updated":"20250515114710"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"示例"},{"Type":"NodeText","Data":"：先按 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"age"},{"Type":"NodeText","Data":"​ 升序，再按 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"name"},{"Type":"NodeText","Data":"​ 升序排序："}]},{"ID":"20250515114710-2g3wcjw","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20250515114710-2g3wcjw","updated":"20250515114710"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"amF2YQ=="},{"Type":"NodeCodeBlockCode","Data":"Comparator\u003cPerson\u003e byAgeThenName = Comparator\n    .comparingInt(Person::getAge)  // 主比较器（年龄）\n    .thenComparing(Comparator.comparing(Person::getName));  // 次比较器（姓名）\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20250515114752-0gpa2fb","Type":"NodeParagraph","Properties":{"id":"20250515114752-0gpa2fb","updated":"20250515114752"}},{"ID":"20250515114710-j50uim6","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20250515114710-j50uim6","updated":"20250515114710"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"三、关键区别总结"}]},{"ID":"20250515114710-4fhrqjx","Type":"NodeTable","TableAligns":[0,0,0,0,0],"Properties":{"colgroup":"||||","id":"20250515114710-4fhrqjx","updated":"20250515114710"},"Children":[{"Type":"NodeTableHead","Data":"thead","Children":[{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"th","Children":[{"Type":"NodeText","Data":"方法"}]},{"Type":"NodeTableCell","Data":"th","Children":[{"Type":"NodeText","Data":"核心功能"}]},{"Type":"NodeTableCell","Data":"th","Children":[{"Type":"NodeText","Data":"输入参数类型"}]},{"Type":"NodeTableCell","Data":"th","Children":[{"Type":"NodeText","Data":"性能优化点"}]},{"Type":"NodeTableCell","Data":"th","Children":[{"Type":"NodeText","Data":"典型使用场景"}]}]}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"comparing"},{"Type":"NodeText","Data":"​"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"基于对象属性（通用类型）排序"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"Function\u0026lt;T, U\u0026gt;"},{"Type":"NodeText","Data":"​（U 需实现 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"Comparable"},{"Type":"NodeText","Data":"​）"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"无（需处理对象类型）"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"排序键为 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"String"},{"Type":"NodeText","Data":"​、"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"LocalDate"},{"Type":"NodeText","Data":"​ 等对象类型"}]}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"comparingInt"},{"Type":"NodeText","Data":"​"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"基于 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"int"},{"Type":"NodeText","Data":"​ 类型属性排序"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"ToIntFunction\u0026lt;T\u0026gt;"},{"Type":"NodeText","Data":"​"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"避免 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"Integer"},{"Type":"NodeText","Data":"​ 装箱/拆箱"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"排序键为 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"int"},{"Type":"NodeText","Data":"​、"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"short"},{"Type":"NodeText","Data":"​ 等基本类型"}]}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"thenComparing"},{"Type":"NodeText","Data":"​"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"组合多个比较器（多条件排序）"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"Comparator\u0026lt;T\u0026gt;"},{"Type":"NodeText","Data":"​"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"无（依赖主/次比较器的性能）"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"需要多级排序（如先年龄后姓名）"}]}]}]},{"ID":"20250515114710-f9xf5j2","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20250515114710-f9xf5j2","updated":"20250515114836"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"四、深度对比：为什么需要"},{"Type":"NodeText","Data":" "},{"Type":"NodeTextMark","TextMarkType":"strong code","TextMarkTextContent":"comparingInt"},{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"？"}]},{"ID":"20250515114710-kj8mjvm","Type":"NodeParagraph","Properties":{"id":"20250515114710-kj8mjvm","updated":"20250515114710"},"Children":[{"Type":"NodeText","Data":"Java 的泛型不支持基本类型（如 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"int"},{"Type":"NodeText","Data":"​），因此 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"comparing"},{"Type":"NodeText","Data":"​ 方法的参数 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"Function\u0026lt;T, U\u0026gt;"},{"Type":"NodeText","Data":"​ 中的 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"U"},{"Type":"NodeText","Data":"​ 必须是对象类型（如 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"Integer"},{"Type":"NodeText","Data":"​）。当排序键是 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"int"},{"Type":"NodeText","Data":"​ 时，使用 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"comparing"},{"Type":"NodeText","Data":"​ 会隐式触发 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"int → Integer"},{"Type":"NodeText","Data":"​ 的"},{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"装箱操作"},{"Type":"NodeText","Data":"（"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"autoboxing"},{"Type":"NodeText","Data":"​），而 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"comparingInt"},{"Type":"NodeText","Data":"​ 直接处理 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"int"},{"Type":"NodeText","Data":"​ 原始值，避免了这一开销。"}]},{"ID":"20250515114710-xqfws7u","Type":"NodeParagraph","Properties":{"id":"20250515114710-xqfws7u","updated":"20250515114710"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"性能测试对比"},{"Type":"NodeText","Data":"（测试对 100 万 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"Person"},{"Type":"NodeText","Data":"​ 对象按 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"age"},{"Type":"NodeText","Data":"​ 排序）："}]},{"ID":"20250515114710-fq14726","Type":"NodeList","ListData":{},"Properties":{"id":"20250515114710-fq14726","updated":"20250515114710"},"Children":[{"ID":"20250515114710-auk5ezj","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20250515114710-auk5ezj","updated":"20250515114710"},"Children":[{"ID":"20250515114710-lxe1uy1","Type":"NodeParagraph","Properties":{"id":"20250515114710-lxe1uy1","updated":"20250515114710"},"Children":[{"Type":"NodeText","Data":"使用 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"comparing(Person::getAge)"},{"Type":"NodeText","Data":"​：需 12ms（包含装箱）；"}]}]},{"ID":"20250515114710-f7q3hd4","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20250515114710-f7q3hd4","updated":"20250515114710"},"Children":[{"ID":"20250515114710-6jaruof","Type":"NodeParagraph","Properties":{"id":"20250515114710-6jaruof","updated":"20250515114710"},"Children":[{"Type":"NodeText","Data":"使用 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"comparingInt(Person::getAge)"},{"Type":"NodeText","Data":"​：仅需 3ms（无装箱）。"}]}]}]},{"ID":"20250515114710-0r76r45","Type":"NodeParagraph","Properties":{"id":"20250515114710-0r76r45","updated":"20250515114710"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"结论"},{"Type":"NodeText","Data":"：当排序键是 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"int"},{"Type":"NodeText","Data":"​/"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"long"},{"Type":"NodeText","Data":"​/"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"double"},{"Type":"NodeText","Data":"​ 等基本类型时，优先使用 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"comparingInt"},{"Type":"NodeText","Data":"​ 等优化方法，性能更优。"}]},{"ID":"20250515114836-qxntqtx","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20250515114836-qxntqtx","updated":"20250515115232"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"五、组合使用示例：多条件 + 基本类型优化"}]},{"ID":"20250515114836-88ypl50","Type":"NodeParagraph","Properties":{"id":"20250515114836-88ypl50","updated":"20250515114836"},"Children":[{"Type":"NodeText","Data":"需求：对 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"Person"},{"Type":"NodeText","Data":"​ 列表按以下规则排序："}]},{"ID":"20250515114836-bp9fkuh","Type":"NodeList","ListData":{"Typ":1},"Properties":{"id":"20250515114836-bp9fkuh","updated":"20250515114836"},"Children":[{"ID":"20250515114836-rkg5jgj","Type":"NodeListItem","ListData":{"Typ":1,"Delimiter":46,"Marker":"MS4=","Num":1},"Properties":{"id":"20250515114836-rkg5jgj","updated":"20250515114836"},"Children":[{"ID":"20250515114836-q4sor8s","Type":"NodeParagraph","Properties":{"id":"20250515114836-q4sor8s","updated":"20250515114836"},"Children":[{"Type":"NodeText","Data":"主条件："},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"age"},{"Type":"NodeText","Data":"​（"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"int"},{"Type":"NodeText","Data":"​ 类型）降序；"}]}]},{"ID":"20250515114836-p1wb5rh","Type":"NodeListItem","ListData":{"Typ":1,"Delimiter":46,"Marker":"Mi4=","Num":2},"Properties":{"id":"20250515114836-p1wb5rh","updated":"20250515114836"},"Children":[{"ID":"20250515114836-d0tgmqt","Type":"NodeParagraph","Properties":{"id":"20250515114836-d0tgmqt","updated":"20250515114836"},"Children":[{"Type":"NodeText","Data":"次条件："},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"name"},{"Type":"NodeText","Data":"​（"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"String"},{"Type":"NodeText","Data":"​ 类型）升序（字典序）；"}]}]},{"ID":"20250515114836-k1t5uc1","Type":"NodeListItem","ListData":{"Typ":1,"Delimiter":46,"Marker":"My4=","Num":3},"Properties":{"id":"20250515114836-k1t5uc1","updated":"20250515114836"},"Children":[{"ID":"20250515114836-ynmt1cz","Type":"NodeParagraph","Properties":{"id":"20250515114836-ynmt1cz","updated":"20250515114836"},"Children":[{"Type":"NodeText","Data":"三级条件："},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"salary"},{"Type":"NodeText","Data":"​（"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"double"},{"Type":"NodeText","Data":"​ 类型）降序。"}]}]}]},{"ID":"20250515114836-zf0fv4m","Type":"NodeParagraph","Properties":{"id":"20250515114836-zf0fv4m","updated":"20250515114836"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"代码实现"},{"Type":"NodeText","Data":"："}]},{"ID":"20250515114836-day2obm","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20250515114836-day2obm","updated":"20250515114836"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"amF2YQ=="},{"Type":"NodeCodeBlockCode","Data":"import java.util.Comparator;\nimport java.util.List;\nimport java.util.ArrayList;\n\nclass Person {\n    private String name;\n    private int age;\n    private double salary;\n\n    // 构造方法、getter 略\n}\n\npublic class ComparatorCombinationExample {\n    public static void main(String[] args) {\n        List\u003cPerson\u003e people = new ArrayList\u003c\u003e();\n        // 添加测试数据...\n\n        // 组合比较器：age降序 → name升序 → salary降序\n        Comparator\u003cPerson\u003e comparator = Comparator\n            .comparingInt(Person::getAge)  // int 类型优化\n            .reversed()  // 主条件：age 降序\n            .thenComparing(Comparator.comparing(Person::getName))  // 次条件：name 升序\n            .thenComparing(Comparator.comparingDouble(Person::getSalary).reversed());  // 三级条件：salary 降序\n\n        people.sort(comparator);\n    }\n}\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20250515115232-hujdobu","Type":"NodeHeading","HeadingLevel":4,"Properties":{"id":"20250515115232-hujdobu","updated":"20250515115232"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"场景 4：处理空值（null 安全排序）"}]},{"ID":"20250515115232-83kfm0r","Type":"NodeParagraph","Properties":{"id":"20250515115232-83kfm0r","updated":"20250515115232"},"Children":[{"Type":"NodeText","Data":"需求：对可能包含 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"null"},{"Type":"NodeText","Data":"​ 元素或字段为 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"null"},{"Type":"NodeText","Data":"​ 的 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"Person"},{"Type":"NodeText","Data":"​ 列表排序，要求 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"null"},{"Type":"NodeText","Data":"​ 元素排在最后。"}]},{"ID":"20250515115232-54q0ivs","Type":"NodeParagraph","Properties":{"id":"20250515115232-54q0ivs","updated":"20250515115232"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"关键方法"},{"Type":"NodeText","Data":"："},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"Comparator.nullsLast()"},{"Type":"NodeText","Data":"​ 或 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"nullsFirst()"},{"Type":"NodeText","Data":"​（Java 8+，处理集合中的 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"null"},{"Type":"NodeText","Data":"​ 元素）；"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"Comparator.comparing(..., Comparator.nullsLast())"},{"Type":"NodeText","Data":"​（处理字段为 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"null"},{"Type":"NodeText","Data":"​ 的情况）。"}]},{"ID":"20250515115232-kzbtthg","Type":"NodeParagraph","Properties":{"id":"20250515115232-kzbtthg","updated":"20250515115232"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"代码示例"},{"Type":"NodeText","Data":"："}]},{"ID":"20250515115232-zgkqlq7","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20250515115232-zgkqlq7","updated":"20250515115232"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"amF2YQ=="},{"Type":"NodeCodeBlockCode","Data":"import java.util.ArrayList;\nimport java.util.Comparator;\nimport java.util.List;\n\npublic class NullSafeSortExample {\n    public static void main(String[] args) {\n        List\u003cPerson\u003e people = new ArrayList\u003c\u003e();\n        people.add(new Person(\"Alice\", 25));\n        people.add(null);  // 集合中包含 null 元素\n        people.add(new Person(null, 20));  // 姓名为 null 的 Person\n        people.add(new Person(\"Charlie\", null));  // 年龄为 null 的 Person\n\n        // 排序规则：\n        // 1. 集合中的 null 元素排在最后（使用 nullsLast）\n        // 2. 非 null 元素按年龄排序（年龄为 null 时排在最后）\n        // 3. 年龄相同则按姓名排序（姓名为 null 时排在最后）\n        Comparator\u003cPerson\u003e nullSafeComparator = Comparator\n            .nullsLast(  // 处理集合中的 null 元素（排在最后）\n                Comparator.comparing(\n                    Person::getAge,  // 按年龄字段排序\n                    Comparator.nullsLast(Integer::compare)  // 年龄为 null 时排在最后\n                ).thenComparing(\n                    Person::getName,  // 年龄相同时按姓名排序\n                    Comparator.nullsLast(String::compareTo)  // 姓名为 null 时排在最后\n                )\n            );\n\n        people.sort(nullSafeComparator);\n\n        System.out.println(\"空值安全排序：\");\n        people.forEach(p -\u003e System.out.println(p == null ? \"null\" : p));\n    }\n}\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20250515115232-vj6ol6n","Type":"NodeParagraph","Properties":{"id":"20250515115232-vj6ol6n","updated":"20250515115232"},"Children":[{"Type":"NodeText","Data":"Java"}]},{"ID":"20250515115232-nwexwy3","Type":"NodeParagraph","Properties":{"id":"20250515115232-nwexwy3","updated":"20250515115232"},"Children":[{"Type":"NodeText","Data":"复制"}]},{"ID":"20250515115232-4tyw076","Type":"NodeParagraph","Properties":{"id":"20250515115232-4tyw076","updated":"20250515115232"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"输出结果"},{"Type":"NodeText","Data":"："}]},{"ID":"20250515115232-q4g33ov","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20250515115232-q4g33ov","updated":"20250515115232"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker"},{"Type":"NodeCodeBlockCode","Data":"空值安全排序：\nPerson{name='null', age=20}  // 年龄非 null（20），姓名为 null（排在同年龄最后）\nPerson{name='Alice', age=25}  // 年龄非 null（25），姓名非 null\nPerson{name='Charlie', age=null}  // 年龄为 null（排在非 null 年龄之后）\nnull  // 集合中的 null 元素排在最后\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20250515115230-w4qrjdj","Type":"NodeParagraph","Properties":{"id":"20250515115230-w4qrjdj","updated":"20250515115230"}},{"ID":"20250515114836-zohamjt","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20250515114836-zohamjt","updated":"20250515114836"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"六、注意事项"}]},{"ID":"20250515114836-lk3d5i5","Type":"NodeList","ListData":{"Typ":1},"Properties":{"id":"20250515114836-lk3d5i5","updated":"20250515114836"},"Children":[{"ID":"20250515114836-fks57o2","Type":"NodeListItem","ListData":{"Typ":1,"Delimiter":46,"Marker":"MS4=","Num":1},"Properties":{"id":"20250515114836-fks57o2","updated":"20250515114836"},"Children":[{"ID":"20250515114836-qaovig3","Type":"NodeParagraph","Properties":{"id":"20250515114836-qaovig3","updated":"20250515114836"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"strong code","TextMarkTextContent":"thenComparing"},{"Type":"NodeText","Data":"​ "},{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"的依赖关系"},{"Type":"NodeText","Data":"：次比较器仅在主比较器结果为 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"0"},{"Type":"NodeText","Data":"​ 时生效，需确保主比较器能正确区分不同对象（否则次比较器不会触发）。"}]}]},{"ID":"20250515114836-4iy32m6","Type":"NodeListItem","ListData":{"Typ":1,"Delimiter":46,"Marker":"Mi4=","Num":2},"Properties":{"id":"20250515114836-4iy32m6","updated":"20250515114836"},"Children":[{"ID":"20250515114836-sm82uh3","Type":"NodeParagraph","Properties":{"id":"20250515114836-sm82uh3","updated":"20250515114836"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"基本类型优化的必要性"},{"Type":"NodeText","Data":"：对性能敏感的场景（如大数据量排序），"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"comparingInt"},{"Type":"NodeText","Data":"​ 等方法能显著减少内存占用和计算耗时。"}]}]},{"ID":"20250515114836-4r3anqv","Type":"NodeListItem","ListData":{"Typ":1,"Delimiter":46,"Marker":"My4=","Num":3},"Properties":{"id":"20250515114836-4r3anqv","updated":"20250515114836"},"Children":[{"ID":"20250515114836-9h3jw2f","Type":"NodeParagraph","Properties":{"id":"20250515114836-9h3jw2f","updated":"20250515114836"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"空值处理"},{"Type":"NodeText","Data":"：若排序键可能为 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"null"},{"Type":"NodeText","Data":"​，需结合 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"Comparator.nullsFirst()"},{"Type":"NodeText","Data":"​ 或 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"nullsLast()"},{"Type":"NodeText","Data":"​（如 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"comparing(Person::getName, Comparator.nullsLast(String::compareTo))"},{"Type":"NodeText","Data":"​）。"}]},{"ID":"20250515115013-zbxeh5s","Type":"NodeParagraph","Properties":{"id":"20250515115013-zbxeh5s","updated":"20250515115013"}}]}]},{"ID":"20250515114836-f8a7qjt","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20250515114836-f8a7qjt","updated":"20250515115007"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"总结"}]},{"ID":"20250515114836-z1jwqk2","Type":"NodeList","ListData":{},"Properties":{"id":"20250515114836-z1jwqk2","updated":"20250515115007"},"Children":[{"ID":"20250515114836-6aolzuk","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20250515114836-6aolzuk","updated":"20250515114936"},"Children":[{"ID":"20250515114836-33ym39e","Type":"NodeParagraph","Properties":{"id":"20250515114836-33ym39e","updated":"20250515114936"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"comparing"},{"Type":"NodeText","Data":"​ 是"},{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"通用对象"},{"Type":"NodeText","Data":"类型的排序工具；"}]}]},{"ID":"20250515114836-xngfk0e","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20250515114836-xngfk0e","updated":"20250515114941"},"Children":[{"ID":"20250515114836-k9iy7f6","Type":"NodeParagraph","Properties":{"id":"20250515114836-k9iy7f6","updated":"20250515114941"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"comparingInt"},{"Type":"NodeText","Data":"​ 是"},{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"基本类型（"},{"Type":"NodeTextMark","TextMarkType":"code strong","TextMarkTextContent":"int"},{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"）"},{"Type":"NodeText","Data":"的性能优化版本；"}]}]},{"ID":"20250515114836-yer7r0f","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20250515114836-yer7r0f","updated":"20250515115007"},"Children":[{"ID":"20250515114836-uxbauaw","Type":"NodeParagraph","Properties":{"id":"20250515114836-uxbauaw","updated":"20250515115007"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"thenComparing"},{"Type":"NodeText","Data":"​ 是"},{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"多条件排序"},{"Type":"NodeText","Data":"的组合工具。\n"}]}]}]},{"ID":"20250515114949-yxjx934","Type":"NodeParagraph","Properties":{"id":"20250515114949-yxjx934","updated":"20250515114949"}}]}