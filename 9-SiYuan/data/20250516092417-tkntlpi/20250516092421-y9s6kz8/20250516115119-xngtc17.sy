{"ID":"20250516115119-xngtc17","Spec":"1","Type":"NodeDocument","Properties":{"id":"20250516115119-xngtc17","title":"聚簇索引","type":"doc","updated":"20250516115134"},"Children":[{"ID":"20250516115134-o4ul0g1","Type":"NodeParagraph","Properties":{"id":"20250516115134-o4ul0g1","updated":"20250516115134"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"聚簇索引"},{"Type":"NodeText","Data":"是指"},{"Type":"NodeTextMark","TextMarkType":"mark","TextMarkTextContent":"表中的数据行"},{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"按照索引列的顺序"},{"Type":"NodeText","Data":"存储。换句话说，数据行和索引行是"},{"Type":"NodeTextMark","TextMarkType":"strong mark","TextMarkTextContent":"物理上连续存储的"},{"Type":"NodeText","Data":"。"}]},{"ID":"20250516115134-ehkytwb","Type":"NodeList","ListData":{},"Properties":{"id":"20250516115134-ehkytwb","updated":"20250516115134"},"Children":[{"ID":"20250516115134-y4adwkv","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20250516115134-y4adwkv","updated":"20250516115134"},"Children":[{"ID":"20250516115134-rp0afbg","Type":"NodeParagraph","Properties":{"id":"20250516115134-rp0afbg","updated":"20250516115134"},"Children":[{"Type":"NodeText","Data":"聚簇索引不仅仅是“指针”（像普通索引那样记录地址），而是直接决定了数据在磁盘上的存储顺序。"}]}]},{"ID":"20250516115134-7oerhfc","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20250516115134-7oerhfc","updated":"20250516115134"},"Children":[{"ID":"20250516115134-afwa33n","Type":"NodeParagraph","Properties":{"id":"20250516115134-afwa33n","updated":"20250516115134"},"Children":[{"Type":"NodeText","Data":"因此，一旦创建了聚簇索引，数据库会自动调整数据的物理存储位置以符合索引键的顺序。"}]}]}]},{"ID":"20250516115134-m8ly880","Type":"NodeParagraph","Properties":{"id":"20250516115134-m8ly880","updated":"20250516115134"}},{"ID":"20250516115134-tzpsgao","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20250516115134-tzpsgao","updated":"20250516115134"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"3. 聚簇索引的作用"}]},{"ID":"20250516115134-d9oclfq","Type":"NodeHeading","HeadingLevel":4,"Properties":{"id":"20250516115134-d9oclfq","updated":"20250516115134"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"优点"}]},{"ID":"20250516115134-ysdvcon","Type":"NodeList","ListData":{"Typ":1},"Properties":{"id":"20250516115134-ysdvcon","updated":"20250516115134"},"Children":[{"ID":"20250516115134-vvw0688","Type":"NodeListItem","ListData":{"Typ":1,"Delimiter":46,"Marker":"MS4=","Num":1},"Properties":{"id":"20250516115134-vvw0688","updated":"20250516115134"},"Children":[{"ID":"20250516115134-u9v4qhr","Type":"NodeParagraph","Properties":{"id":"20250516115134-u9v4qhr","updated":"20250516115134"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"提高查询效率"}]},{"ID":"20250516115134-2bb5scx","Type":"NodeList","ListData":{},"Properties":{"id":"20250516115134-2bb5scx","updated":"20250516115134"},"Children":[{"ID":"20250516115134-6jl5hh1","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20250516115134-6jl5hh1","updated":"20250516115134"},"Children":[{"ID":"20250516115134-497a1oo","Type":"NodeParagraph","Properties":{"id":"20250516115134-497a1oo","updated":"20250516115134"},"Children":[{"Type":"NodeText","Data":"如果查询条件是基于聚簇索引的字段（例如"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"WHERE id=101"},{"Type":"NodeText","Data":"​），可以直接定位到对应的物理位置，避免额外的查找操作。"}]}]},{"ID":"20250516115134-b0vskq7","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20250516115134-b0vskq7","updated":"20250516115134"},"Children":[{"ID":"20250516115134-qid6hfi","Type":"NodeParagraph","Properties":{"id":"20250516115134-qid6hfi","updated":"20250516115134"},"Children":[{"Type":"NodeText","Data":"查询速度快，因为数据已经按顺序存储，减少了随机访问硬盘的时间。"}]}]}]}]},{"ID":"20250516115134-x1alw7j","Type":"NodeListItem","ListData":{"Typ":1,"Delimiter":46,"Marker":"Mi4=","Num":2},"Properties":{"id":"20250516115134-x1alw7j","updated":"20250516115134"},"Children":[{"ID":"20250516115134-6922cfz","Type":"NodeParagraph","Properties":{"id":"20250516115134-6922cfz","updated":"20250516115134"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"节省空间"}]},{"ID":"20250516115134-17mkscm","Type":"NodeList","ListData":{},"Properties":{"id":"20250516115134-17mkscm","updated":"20250516115134"},"Children":[{"ID":"20250516115134-fvbf4kc","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20250516115134-fvbf4kc","updated":"20250516115134"},"Children":[{"ID":"20250516115134-kf4noom","Type":"NodeParagraph","Properties":{"id":"20250516115134-kf4noom","updated":"20250516115134"},"Children":[{"Type":"NodeText","Data":"数据按索引键顺序存储，减少了索引页的数量，降低了内存占用。"}]}]}]}]},{"ID":"20250516115134-9aqfrgm","Type":"NodeListItem","ListData":{"Typ":1,"Delimiter":46,"Marker":"My4=","Num":3},"Properties":{"id":"20250516115134-9aqfrgm","updated":"20250516115134"},"Children":[{"ID":"20250516115134-e1v6i28","Type":"NodeParagraph","Properties":{"id":"20250516115134-e1v6i28","updated":"20250516115134"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"适用于范围查询"}]},{"ID":"20250516115134-5nyxjqv","Type":"NodeList","ListData":{},"Properties":{"id":"20250516115134-5nyxjqv","updated":"20250516115134"},"Children":[{"ID":"20250516115134-idiva57","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20250516115134-idiva57","updated":"20250516115134"},"Children":[{"ID":"20250516115134-z9cbhad","Type":"NodeParagraph","Properties":{"id":"20250516115134-z9cbhad","updated":"20250516115134"},"Children":[{"Type":"NodeText","Data":"对于范围查询（如"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"WHERE id BETWEEN 100 AND 200"},{"Type":"NodeText","Data":"​），聚簇索引可以高效地扫描连续的物理存储区域。"}]}]}]}]}]},{"ID":"20250516115134-bly66vr","Type":"NodeHeading","HeadingLevel":4,"Properties":{"id":"20250516115134-bly66vr","updated":"20250516115134"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"缺点"}]},{"ID":"20250516115134-w99kjs1","Type":"NodeList","ListData":{"Typ":1},"Properties":{"id":"20250516115134-w99kjs1","updated":"20250516115134"},"Children":[{"ID":"20250516115134-c30280m","Type":"NodeListItem","ListData":{"Typ":1,"Delimiter":46,"Marker":"MS4=","Num":1},"Properties":{"id":"20250516115134-c30280m","updated":"20250516115134"},"Children":[{"ID":"20250516115134-svvboap","Type":"NodeParagraph","Properties":{"id":"20250516115134-svvboap","updated":"20250516115134"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"插入性能较差"}]},{"ID":"20250516115134-dxz9emi","Type":"NodeList","ListData":{},"Properties":{"id":"20250516115134-dxz9emi","updated":"20250516115134"},"Children":[{"ID":"20250516115134-g1mnmbm","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20250516115134-g1mnmbm","updated":"20250516115134"},"Children":[{"ID":"20250516115135-zcn1evp","Type":"NodeParagraph","Properties":{"id":"20250516115135-zcn1evp","updated":"20250516115135"},"Children":[{"Type":"NodeText","Data":"插入新数据时，可能需要移动现有数据以保持索引键的顺序，导致性能下降。"}]}]}]}]},{"ID":"20250516115135-kou0pnu","Type":"NodeListItem","ListData":{"Typ":1,"Delimiter":46,"Marker":"Mi4=","Num":2},"Properties":{"id":"20250516115135-kou0pnu","updated":"20250516115135"},"Children":[{"ID":"20250516115135-n8x2lbo","Type":"NodeParagraph","Properties":{"id":"20250516115135-n8x2lbo","updated":"20250516115135"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"只能有一个聚簇索引"}]},{"ID":"20250516115135-fka9u8e","Type":"NodeList","ListData":{},"Properties":{"id":"20250516115135-fka9u8e","updated":"20250516115135"},"Children":[{"ID":"20250516115135-09b4u39","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20250516115135-09b4u39","updated":"20250516115135"},"Children":[{"ID":"20250516115135-b2lk0q5","Type":"NodeParagraph","Properties":{"id":"20250516115135-b2lk0q5","updated":"20250516115135"},"Children":[{"Type":"NodeText","Data":"每个表只能有一个聚簇索引，因此选择索引键时需要慎重考虑。"}]}]}]}]}]},{"ID":"20250516115135-55s2k8m","Type":"NodeParagraph","Properties":{"id":"20250516115135-55s2k8m","updated":"20250516115135"}},{"ID":"20250516115135-s1jsi5k","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20250516115135-s1jsi5k","updated":"20250516115135"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"聚簇索引与其他索引的区别"}]},{"ID":"20250516115135-pfvr9ew","Type":"NodeTable","TableAligns":[0,0,0],"Properties":{"colgroup":"width: 201px;|width: 319px;|","id":"20250516115135-pfvr9ew","updated":"20250516115135"},"Children":[{"Type":"NodeTableHead","Data":"thead","Children":[{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"th","Children":[{"Type":"NodeText","Data":"特性"}]},{"Type":"NodeTableCell","Data":"th","Children":[{"Type":"NodeText","Data":"聚簇索引"}]},{"Type":"NodeTableCell","Data":"th","Children":[{"Type":"NodeText","Data":"非聚簇索引（普通索引）"}]}]}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"数据存储顺序"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"决定数据的"},{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"物理存储顺序"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"只记录数据的"},{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"逻辑地址"}]}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"索引数量"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"每个表"},{"Type":"NodeTextMark","Properties":{"style":"background-color: var(--b3-font-background8);"},"TextMarkType":"text","TextMarkTextContent":"只能有一个"},{"Type":"NodeKramdownSpanIAL","Data":"{: style=\"background-color: var(--b3-font-background8);\"}"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"可以有多个"}]}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"空间开销"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"较小"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"较大"}]}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"查询速度"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"对主键查询和范围查询非常高效"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"查询速度取决于索引覆盖的字段"}]}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"插入性能"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"较差"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"较好"}]}]}]},{"ID":"20250516115135-7jjar86","Type":"NodeParagraph","Properties":{"id":"20250516115135-7jjar86","updated":"20250516115135"}}]}